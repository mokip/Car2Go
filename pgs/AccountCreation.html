<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>Account creation</title>
    <link rel="stylesheet" href="../style/Styles.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/smoothness/jquery-ui.css">
</head>
<body>
	<div class="container">
		<h2>Utwórz konto Car2Go już teraz</h2>
		<form method="post" action="../php/SignUp.php">
			<label for="username">Imię* :</label>
            <input type="text" id="username" name="username" required
              oninvalid="this.setCustomValidity('Pole nie może być puste')"
              oninput="this.value=this.value.replace(/[^a-zA-Z]/g,''); this.setCustomValidity('')">        
            <div>
              <label for="usersurname">Nazwisko* :</label>
              <input type="text" id="usersurname" name="usersurname" required
                oninvalid="this.setCustomValidity('Pole nie może być puste')"
                oninput="this.value=this.value.replace(/[^a-zA-Z]/g,''); this.setCustomValidity('')">
            </div>
            <div>
                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
                <label for="birthdate" style="text-align: left;">Data urodzenia* :</label>
				<input type="text" id="birthdate" name="birthdate" style="width: 70px; height:30px;" required
                oninvalid="this.setCustomValidity('Pole nie może być puste')"
                oninput="this.setCustomValidity('')">
                <script>
                    $(function() {
                      var maxDate = new Date();
                      maxDate.setFullYear(maxDate.getFullYear() - 18);
                      var minDate = new Date();
                      minDate.setFullYear(minDate.getFullYear() - 80);
                                        
                      $("#birthdate").datepicker({
                        dateFormat: "yy-mm-dd",
                        changeMonth: true,
                        changeYear: true,
                        yearRange: "1943:+nn",
                        maxDate: maxDate,
                        minDate: minDate,
                        onSelect: function() {
                          this.setCustomValidity('');
                        }
                      });
                    });
                </script>
            </div>
            <div>
                <label for="useremail">Email:</label>
                <input type="text" id="useremail" name="useremail" placeholder="example@email.com" onblur="validateEmail(this)" oninput="this.setCustomValidity('')" >
            </div>   
            <script>
                function validateEmail(emailInput) {
                    const email = emailInput.value;
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        emailInput.setCustomValidity("Proszę podać poprawny adres email, przykład: example@mail.com");
                    } else {
                        emailInput.setCustomValidity("");
                    }
                }
            </script>
            <div>
                <label for="userphone">Numer telefonu*:</label>
                <input type="text" id="userphone" name="userphone" required minlength="9" maxlength="9" 
                    pattern="[0-9]{9}" 
                    oninvalid="this.setCustomValidity('Proszę wprowadzić numer telefonu składający się z 9 cyfr')"
                    oninput="this.value=this.value.replace(/[^0-9]/g,'');this.setCustomValidity('')">
              </div>
            <div>
                <label for="userdoc">Nr. prawa jazdy* :</label>
                <input type="text" id="userdoc" name="userdoc" required
                oninvalid="this.setCustomValidity('Pole nie może być puste')"
                oninput="this.setCustomValidity('')">
            </div>
            <div>
                <label for="password">Hasło* :</label>
                <input type="password" id="password" name="password" required minlength="8"
                oninvalid="this.setCustomValidity('Proszę utworzyć hasło składające się z co najmniej 8 znaków')"
                oninput="this.setCustomValidity('')" >
            </div>            
            <button type="submit">Utwórz</button>
            <a href="../pages/Login.php"><button type="button">Wróc na stronę logowania</button></a>
            <a href="../index.html"><button type="button">Wróc na stronę główną</button></a>
		</form>
	</div>
    <footer>
        <p>&copy; 2023 Car2Go. All rights reserved.</p>
    </footer>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <script src="../scr/datepicker.js"></script>
</body>
</html>
